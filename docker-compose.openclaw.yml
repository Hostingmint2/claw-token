version: '3.8'
services:
  openclaw-agent:
    build: ./agents/openclaw-agent
    restart: always
    ports:
      - "9800:9800"
    environment:
      - OPENCLAW_EXECUTE=false
      - OPENCLAW_OFFERS_PATH=/data/offers.json
      - OPENCLAW_PORT=9800
      - ACCESS_JWT_SECRET=${ACCESS_JWT_SECRET}
    volumes:
      - ./agents/openclaw-agent/offers.json:/data/offers.json

  watchtower:
    image: node:18-alpine
    command: node agents/watchtower/watchtower.js
    volumes:
      - ./agents/openclaw-agent/offers.json:/agents/openclaw-agent/offers.json:ro
